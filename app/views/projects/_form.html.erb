<div class="row">
    <div class="col-md-12">
        <div class="card-box">
            <h4 class="m-t-0 header-title"><b>Start New Project</h4>

            <%= form_with(model: project, local: true, :html => {:id=>"basic-form"}) do |form| %>
                <% if project.errors.any? %>
                  <div id="error_explanation">
                    <h2><%= pluralize(project.errors.count, "error") %> prohibited this project from being saved:</h2>

                    <ul>
                    <% project.errors.full_messages.each do |message| %>
                      <li><%= message %></li>
                    <% end %>
                    </ul>
                  </div>
                <% end %>
                <div>
                    <h3>Vendor details</h3>
                    <section>                      
                        <%= form.collection_select(:vendor_id, Vendor.all, :id, :vendor_name, {}, id: 'vendor_name', class: 'form-control select2') %>
                    </section>
                    <h3>Sponsor</h3>
                    <section>
                        <%= form.collection_select(:sponsor_agency_id, SponsorAgency.all, :id, :sponsor_name, {}, id: 'sponsor_name', class: 'form-control') %>
                    </section>
                    <h3>Project Details</h3>
                    <section>
                      <div class="form-group clearfix">
                          <label class="control-label"> Project Name *</label>
                          <div class="">
                            <%= form.text_field :name, id: :project_name, class: "form-control" %>
                          </div>
                      </div>
                      <div class="form-group clearfix">
                          <label class="control-label " for="password"> Profile Title *</label>
                          <div class="">
                            <%= form.text_field :title, id: :project_title, class: "form-control" %>
                          </div>
                      </div>

                      <!-- <div class="form-group clearfix">
                          <label class="control-label " for="confirm"> Maintainer *</label>
                          <div class="">
                            <%= form.text_field :maintainer, id: :project_maintainer, class: "form-control" %>
                          </div>
                      </div> -->
                      
                      <!-- <div class="form-group clearfix">
                          <label class="control-label " for="confirm"> Copyright *</label>
                          <div class="">
                            <%= form.text_field :copyright, id: :project_copyright, class: "form-control" %>
                          </div>
                      </div>
                      
                      <div class="form-group clearfix">
                          <label class="control-label " for="confirm"> Copyright Email *</label>
                          <div class="">
                            <%= form.text_field :copyright_email, id: :project_copyright_email, class: "form-control" %>
                          </div>
                      </div> -->
                      
                      <!-- <div class="form-group clearfix">
                          <label class="control-label " for="confirm"> License *</label>
                          <div class="">
                            <%= form.text_field :license, id: :project_license, class: "form-control" %>
                          </div>
                      </div> -->
                      
                      <div class="form-group clearfix">
                          <label class="control-label " for="confirm"> Version *</label>
                          <div class="field">
                            <%= form.text_field :version, id: :project_version, class: "form-control" %>
                          </div>
                      </div>
                      
                      <div class="form-group clearfix">
                          <label class="control-label" for="name"> Project Summary *</label>
                          <div class="field">
                            <%= form.text_area :summary, id: :project_summary, class: "form-control", rows:2 %>
                          </div>
                      </div>
                    </section>
                    <h3>SRGs</h3>
                    <section>
                        <div class="form-group clearfix">
                          <label class="control-label" for="name"> Relevant SRG(s) *</label>
                          <%= form.select :srg_ids, options_for_select(@srgs.collect {|srg| srg.title}), {}, {:id => "srg_ids", :multiple => "multiple", :class => "multi-select", 'data-plugin'=>"multiselect" } %>
                        </div>
                        <!-- <div class="form-group clearfix">
                            <label class="control-label" for="name"> Add Other Users to View this Project *</label>
                            <%= form.select :users, options_for_select(@users.collect {|user| user.email}), {}, {:id => "users", :multiple => "multiple", :class => "multi-select", 'data-plugin'=>"multiselect" } %>                        
                        </div> -->
                    </section>
                </div>
            <% end %>
            <script>
              load_wizard("#basic-form", validate_step);
              $("#srg_ids").multiSelect();
              $("#users").multiSelect({ width: '500px' });
              $("#vendor_name").select2();
              $("#sponsor_name").select2();
              
              function validate_step(event, currentIndex, nextIndex) {
                return 1;
              }
            </script>
        </div>
    </div>
</div>
