{
  "name": "Vulcan",
  "description": "MITRE Security Requirements Guide authoring tool",
  "stack": "heroku-24",
  "buildpacks": [
    {
      "url": "heroku/nodejs"
    },
    {
      "url": "https://github.com/gaffneyc/heroku-buildpack-jemalloc.git"
    },
    {
      "url": "heroku/ruby"
    }
  ],
  "env": {
    "SECRET_KEY_BASE": {
      "description": "A secret key for verifying the integrity of signed cookies.",
      "generator": "secret"
    },
    "RAILS_ENV": {
      "value": "production"
    },
    "RAILS_SERVE_STATIC_FILES": {
      "value": "true"
    },
    "RAILS_LOG_TO_STDOUT": {
      "value": "true"
    },
    "WEB_CONCURRENCY": {
      "description": "Number of Puma worker processes. Set to 2 for basic dynos, can increase for larger dynos.",
      "value": "2"
    },
    "RAILS_MAX_THREADS": {
      "description": "Maximum number of threads per Puma worker. Default Rails setting.",
      "value": "5"
    },
    "JEMALLOC_ENABLED": {
      "description": "Enable jemalloc for better memory management (20-40% reduction).",
      "value": "true"
    }
  },
  "formation": {
    "web": {
      "quantity": 1,
      "size": "basic"
    }
  },
  "environments": {
    "review": {
      "addons": ["heroku-postgresql:essential-0"],
      "scripts": {
        "postdeploy": "DISABLE_DATABASE_ENVIRONMENT_CHECK=1 bundle exec rails db:schema:load db:seed"
      }
    }
  }
}
